<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ontolo-ci</title>
  <link rel="icon"  type="image/png" href="doc/imgs/favicon.png">


  <link href="doc.min.css" rel="stylesheet" type="text/css" />

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  </head>
  <body>

    <style>
   
       .navbar{
         border-radius: 0;
       }

       .footer{
        display: grid;
        justify-content: center;
       }


    </style>

  <a href="https://github.com/weso/ontolo-ci" target="_blank"><img style="z-index: 1; position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
   <!-- Fixed navbar -->
    <div class="navbar navbar-inverse" role="navigation">
      <div class="container">
        <div class="navbar-header">
          
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Ontolo-ci</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a target="_blank" href="http://www.weso.es/">WESO</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>


     <div class="container" role="main">
      	<div class="row" id="aboutYQuery">
      	    <div class="col-md-12">
                <h1>Welcome to Ontolo-ci</h1>
                Ontolo-CI is a docker based system that integrates with GitHub to provide a continuos integration system for ontologies. It uses   <a target="_blank" href='http://shex.io/shex-semantics/'>Shape Expressions</a> and test instances in order to validate ontologies.<br><br>
                Although inspired in <a target="_blank" href='https://github.com/travis-ci/travis-ci'>Travis-CI</a> and many other continuos integration systems, Ontolo-CI is focused on develop continuos integration for ontologies. This is done by means of test instances and Shape Expressions. Furthermore, Ontolo-CI is integrated with GitHub, so you can add it as a check to Pull Requests or Pushes to different branches.<br><br>
                The following diagram illustrates the architecture of Ontolo-CI. As can be seen, it can be deployed as a docker container in any machine. Then it will listen to <a target="_blank" href='https://docs.github.com/en/developers/webhooks-and-events/about-webhooksGitHub Webhooks'>GitHub Webhooks</a>. Whenever a webhook from github arrives it inmediatelly schedulles a build and after the build is finished Ontolo-CI will notify GitHub and publish the data on its webpage.
            </div>
        </div>

      
        <img src="./images/ontolo-ci-main-schema.png" width="1000"></img>


        <div class="row" >
          <div class="col-md-12">
            <h2>Docker Container</h2>
            Ontolo-CI is shipped as a Docker container so that anyone can deploy its own instance on demand. Inside the Docker container there are several components that work together. The following schema shows them.<br>
            <br>

            <img src="./images/ontolo-ci-schema-docker.png" width="1000"></img>

            <ul>
              <li><strong>Ontolo-CI Listener:</strong>The listener component receives notifications from GitHub when a Pull Request is started or when commits are pushed. This notifies the scheduller about the new build to perform.</li>
              <li><strong>Ontolo-CI Hub:</strong>It acts as a GitHub API interface client. It allows the system to collect files from GitHub but also to inform about the status of the builds.</li>
              <li><strong>Ontolo-CI Scheduller:</strong>This component receives builds to schedule from the listener, then creates a worker with the build and schedules its execution.</li>
              <li><strong>Ontolo-CI Worker:</strong>Each worker contains a build to execute. A build is a set of tests to execute over an ontology. It only knows how to execute tests when told and who to notificate when finished.</li>
              <li><strong>Database:</strong>When a build is finished by a worker the results of the build are stored in a database. Up to now the results that are being stored are: repo, branch, event, result. Where the result stores not only the results of the test cases, but also the execution time and other metrics.</li>
              <li><strong>Ontolo-CI API:</strong>The API provides an access layer for thrid party services that need to explore the data from an Ontolo-CI instance. It is also used by the web service. It only allows reading data at the time.</li>
              <li><strong>Ontolo-CI Web:</strong>Is a Web interface that stores the results of all executions schedulled, under execution and executed.</li>

    
            </ul>
          </div>
        </div>
        <div class="row" >
          <div class="col-md-12">
            <h2>Results</h2>
            Every time ontolo-ci executes a build, the results are posted on GitHub and also on the ontolo-ci website.
            <h3>GitHub Check Runs</h3>
            <p>Ontolo-ci uses <a target="_blank" href='https://github.com/travis-ci/travis-ci'>Check Runs </a>in order to provide detailed feedback on commits. Every time a push or a pull request is made, ontolo-ci creates and updates a check run with the status of the validation proccess. </p>
            <img src="./images/check-results.png" ></img>
            <h3>GitHub Details View</h3>
            <p>Once the validation has finished, we can see a more detailed view in the details section of the checkrun:</p>
            <img src="./images/github-results.png" ></img>
            <h3>Website</h3>
            <p>Each ontolo-ci instance has it´s own website. The Website shows all the builds that has been executed throught ontolo-ci.</p>
            <h4>Dashboard View</h4> 
            <p>The Dashboard View shows all the builds that has been executed over the ontolo-ci instance. Each Build contains:</p>
            <ul>
              <li><strong>Repostory</strong> where the build cames from</li>
              <li><strong>Owner</strong> of the repository</li>
              <li><strong>Commit name</strong></li>
              <li><strong>Branch</strong> of the commit</li>
              <li><strong>Branch Number </strong></li>
              <li><strong>Commit ID: </strong>Commit identifier</li>
              <li><strong>Execution Time: </strong> Time taken to perform all the test cases</li>
              <li><strong>Date</strong> when the build has been executed</li>
            </ul>
            <img src="./images/builds.png"></img>
            <br><br>
            <h4>Specific Build View</h4> 
            <p>There is a specific view for each build. This view shows all the test cases that make up the build. The users can see the details of the validation proccess for any test. The detailed view of a test case shows the validation an the expected result for each node with it´s shape. It is also possible to see the full shape map result of the test case. </p>
            <img src="./images/specific-build.png" ></img>
          </div>
        </div>


        <div class="footer">
          <img src="./images/weso_logo.png" ></img>
        </div>



     </div>
    </div>

  
</body>
</html>
